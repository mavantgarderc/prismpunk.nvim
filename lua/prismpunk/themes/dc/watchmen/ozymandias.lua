local color = require("prismpunk.utils.color")
local palette = require("prismpunk.palettes.dc.watchmen.ozymandias")

local M = {}

M.get = function(opts, plt)
  plt = plt or palette
  return {
    modes = {
      normal   = plt.imperialPurpleCore,
      insert   = plt.utopianTealCore,
      visual   = plt.royalGoldCore,
      replace  = plt.chaosRedCore,
      command  = plt.mastermindVioletCore,
    },
    accent = {
      accent1 = plt.imperialPurpleCore,
      accent2 = plt.royalGoldCore,
      accent3 = plt.mastermindVioletCore,
      accent4 = plt.calculatedCyanCore,
      accent5 = plt.utopianTealCore,
      invert  = plt.bg_light,
    },
    rainbow = {
      rainbow1 = plt.imperialPurpleBright,
      rainbow2 = plt.royalGoldBright,
      rainbow3 = plt.mastermindVioletBright,
      rainbow4 = plt.calculatedCyanBright,
      rainbow5 = plt.utopianTealBright,
      rainbow6 = plt.logicBlueBright,
      rainbow7 = plt.strategicAmberBright,
    },
    ui = {
      bg               = plt.bg_darkest,
      bg_cursorline    = plt.bg_dark,
      bg_dim           = plt.bg_darkest,
      bg_gutter        = opts.gutter and plt.bg_light or "none",
      bg_highlight     = plt.bg_mid,
      bg_m1            = plt.bg_darker,
      bg_m2            = plt.bg_dark,
      bg_m3            = plt.bg_mid,
      bg_m4            = plt.bg_light,
      bg_p1            = plt.bg_dark,
      bg_p2            = plt.bg_mid,
      bg_statusline    = plt.bg_light,
      bg_visual        = plt.bg_mid,
      border           = plt.coldGray,
      cursorline       = plt.bg_dark,
      fg               = plt.fg_lightest,
      fg_dim           = plt.fg_light,
      fg_reverse       = plt.bg_alt1,
      indent           = plt.bg_lighter,
      indent_scope     = plt.imperialPurpleCore,
      line_nr          = plt.bg_lightest,
      line_nr_active   = plt.fg_lightest,
      line_nr_dim      = plt.bg_lighter,
      nontext          = plt.bg_lightest,
      selection        = plt.bg_mid,
      win_separator    = plt.coldGray,
      float = {
        bg        = plt.bg_darker,
        bg_border = plt.bg_darker,
        fg        = plt.fg_light,
        fg_border = plt.coldGray,
      },
      pmenu = {
        bg        = plt.bg_light,
        bg_border = plt.bg_light,
        bg_sbar   = plt.bg_light,
        bg_sel    = plt.bg_lighter,
        bg_thumb  = plt.coldGrayLight,
        fg        = plt.fg_light,
        fg_sel    = plt.fg_lightest,
      },
      tabline = {
        bg           = plt.bg_darkest,
        bg_inactive  = plt.bg_darkest,
        bg_selected  = plt.bg_dark,
        fg_inactive  = plt.fg_dark,
        fg_selected  = plt.fg_lightest,
      },
    },
    syn = {
      attribute   = plt.royalGoldCore,
      boolean     = plt.calculatedCyanCore,
      comment     = plt.coldGray,
      constant    = plt.intelligenceWhiteCore,
      deprecated  = plt.coldGrayDark,
      func        = plt.utopianTealCore,
      identifier  = plt.fg_lightest,
      keyword     = plt.imperialPurpleCore,
      method      = plt.utopianTealBright,
      number      = plt.intelligenceWhiteCore,
      operator    = plt.royalGoldCore,
      parameter   = plt.fg_mid,
      preproc     = plt.mastermindVioletCore,
      punct       = plt.fg_dark,
      regex       = plt.calculatedCyanCore,
      special     = plt.calculatedCyanCore,
      statement   = plt.imperialPurpleCore,
      string      = plt.utopianTealCore,
      symbol      = plt.royalGoldCore,
      type        = plt.logicBlueCore,
      variable    = plt.fg_lightest,
    },
    diag = {
      error   = plt.errorRed,
      warning = plt.warningAmber,
      info    = plt.infoBlue,
      ok      = plt.successGreen,
      hint    = plt.calculatedCyanCore,
    },
    diff = {
      add     = plt.schemeGreenCore,
      change  = plt.strategicAmberCore,
      delete  = plt.chaosRedCore,
      text    = plt.calculatedCyanCore,
    },
    vcs = {
      added   = plt.schemeGreenCore,
      changed = plt.strategicAmberCore,
      removed = plt.chaosRedCore,
    },
    term = {
      black           = plt.bg_darkest,
      red             = plt.chaosRedCore,
      green           = plt.schemeGreenCore,
      yellow          = plt.strategicAmberCore,
      blue            = plt.logicBlueCore,
      magenta         = plt.imperialPurpleCore,
      cyan            = plt.calculatedCyanCore,
      white           = plt.intelligenceWhiteCore,
      black_bright    = color(plt.bg_darkest):brighten(0.6):to_hex(),
      red_bright      = color(plt.chaosRedBright):brighten(0.18):to_hex(),
      green_bright    = color(plt.schemeGreenBright):brighten(0.18):to_hex(),
      yellow_bright   = color(plt.strategicAmberBright):brighten(0.18):to_hex(),
      blue_bright     = color(plt.logicBlueBright):brighten(0.18):to_hex(),
      magenta_bright  = color(plt.imperialPurpleBright):brighten(0.18):to_hex(),
      cyan_bright     = color(plt.calculatedCyanBright):brighten(0.18):to_hex(),
      white_bright    = color(plt.intelligenceWhiteBright):brighten(0.12):to_hex(),
    },
  }
end

return {
  name = "Watchmen – Ozymandias",
  author = "PrismPunk.nvim",
  description = "Genius strategist — imperial purple, royal gold, calculated perfection.",
  base16 = {
    base00 = palette.bg_darkest,
    base01 = palette.bg_darker,
    base02 = palette.bg_dark,
    base03 = palette.coldGray,
    base04 = palette.coldGrayLight,
    base05 = palette.fg_mid,
    base06 = palette.fg_light,
    base07 = palette.fg_lightest,
    base08 = palette.chaosRedCore,
    base09 = palette.strategicAmberCore,
    base0A = palette.royalGoldCore,
    base0B = palette.utopianTealCore,
    base0C = palette.calculatedCyanCore,
    base0D = palette.logicBlueCore,
    base0E = palette.imperialPurpleCore,
    base0F = palette.mastermindVioletCore,
  },
  palette = palette,
  get = M.get,
}
